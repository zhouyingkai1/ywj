export default{
  namespace: 'detail',
  state:{
    artcleDetail:{
      id:14,
      isLike:false,
      title:'风吹画廊人如玉',
      url:'http://baidu.com',
      like:10,
      tags:[
        {
          id:10,
          title:'前端',
          url:'frontend'
        },{
          id:12,
          title:'后台',
          url:'backend'
        },{
          id:13,
          title:'设计',
          url:'design'
        }
      ],
      shortImg:'https://dn-mhke0kuv.qbox.me/13f969888162372b4034.png?imageView/2/w/800/h/400/q/100/format/png',  
      createTime: 1488782302,
      desc:'在 vue 里，组件之间的作用域是独立的，父组件跟子组件之间的通讯可以通过 prop 属性来传参，但是在兄弟组件之间通讯就比较麻烦了。vuex 正是为了解决这个问题，让多个子组件之间可以方便的通讯。'
    },
    comment:[
      {
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
        userName: 'lucky',
        comment:'组件之间的作用域是独立的',
        createTime: 1488788302,
      },
      {
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
        userName: '大漠孤烟',
        comment:'父组件跟子组件之间的通讯可以通过 prop 属性来传参',
        createTime: 1489788302,
      }
    ],
    about:[
      {
        title:'前端面试季 - 12家公司面试题全揭秘',
        url:'https://juejin.im/post/58d088045c497d0057d1c40d',
        like:30,
        userName:'MR_LP'
      },
      {
        title:'80% 应聘者都不及格的 JS 面试题',
        url:'https://juejin.im/post/58d088045c497d0057d1c40d',
        like:30,
        userName:'MR_LP'
      },
      {
        title:'React Native 详细实现热部署、增量差异化热更新',
        url:'https://juejin.im/post/58d088045c497d0057d1c40d',
        like:0,
        userName:'江清清'
      },
    ],
    likedUser:[
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/a15f275512a44b0959c3.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },
      {
        id:12,
        userName:'你好',
        avator:'https://dn-mhke0kuv.qbox.me/6250137bdccb5d9575ff.jpg?imageView2/1/w/100/h/100/q/85/interlace/1',
      },

    ]
  },
  subscriptions:{
    setup({dispatch,history}){
      history.listen(location=>{
        if(/detail/.test(location.pathname)){
          dispatch({
            type:'ywj/updateState',
            payload:{
              footerVisible:false,
              headerVisible:true,
            }
          })
        }
      })
    }
  },
  effects:{
    *handleLike({payload},{call,select,put}){
      yield put({
        type:'likeReducer',
        payload:payload
      })
    }
  },
  reducers:{
    updateState(state,{payload}){
      return {...state,...payload}
    },
    likeReducer(state,{payload}){
      const artcleDetail = state.artcleDetail
      artcleDetail.isLike = payload.artcleDetail.isLike
      if(payload.artcleDetail.isLike){
        artcleDetail.like += 1
      }else{
        artcleDetail.like -= 1
      }
      return {...state,...artcleDetail}
    },
  }
}